<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calendar - Bartending2U</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" />
</head>
<body>
    <header class="top-bar">
        <div class="top-bar__inner">
            <div class="brand">
                <img src="IMG_9047.png" alt="Bartending2U logo" />
                <div class="brand__text">
                    <span class="brand__subtitle">Bartending2U</span>
                    <span class="brand__title">Scheduling Suite</span>
                </div>
            </div>

            <button
                class="mobile-nav-toggle"
                id="mobileNavToggle"
                type="button"
                aria-label="Toggle navigation"
                aria-expanded="false"
                data-mobile-nav-toggle
            >
                <span class="mobile-nav-toggle__icon" aria-hidden="true">☰</span>
                <span class="sr-only">Toggle navigation</span>
            </button>

            <nav class="nav-links" id="primaryNav">
                <a class="nav-link" href="index.html">Dashboard</a>
                <a class="nav-link" href="events.html">Events</a>
                <a class="nav-link" href="leads.html">Leads</a>
                <a class="nav-link" href="employees.html">Employees</a>
                <a class="nav-link active" href="calendar.html">Calendar</a>
                <a class="nav-link" href="settings.html">Settings</a>
            </nav>

            <a class="cta-button" href="events.html">+ New Event</a>
        </div>
    </header>

    <main class="page-content">
        <section class="page-header">
            <div>
                <p class="page-eyebrow">Calendar</p>
                <h1 class="page-title">Plan your month</h1>
                <p class="lead-text">See bookings, staffing, and prep tasks for the month. Drag-and-drop coming soon.</p>
            </div>
            <div class="hero-actions">
                <a class="button primary" href="events.html">Review events</a>
                <a class="secondary-link" href="settings.html">Calendar settings →</a>
            </div>
        </section>

        <section id="calendar-overview" class="content-card" data-subsection="Monthly overview">
            <div class="card-header">
                <div>
                    <h2 class="card-title" id="calendarMonthHeading">This month</h2>
                    <p class="card-subtitle">Select a day to view its events and staffing.</p>
                </div>
            </div>
            <div class="calendar-layout">
                <div class="calendar-month">
                    <div class="calendar-controls" aria-controls="calendarGrid">
                        <button class="calendar-controls__button" type="button" id="prevMonth" aria-label="Previous month">
                            ‹
                        </button>
                        <div class="calendar-controls__label">
                            <span class="calendar-controls__heading" id="calendarControlsLabel">October 2025</span>
                            <button class="calendar-controls__link" type="button" id="jumpToday">Jump to today</button>
                        </div>
                        <button class="calendar-controls__button" type="button" id="nextMonth" aria-label="Next month">
                            ›
                        </button>
                    </div>
                    <div class="calendar-weekdays" aria-hidden="true">
                        <span>Sun</span>
                        <span>Mon</span>
                        <span>Tue</span>
                        <span>Wed</span>
                        <span>Thu</span>
                        <span>Fri</span>
                        <span>Sat</span>
                    </div>
                    <div class="calendar-grid" id="calendarGrid" role="grid" aria-labelledby="calendarControlsLabel"></div>
                </div>
                <aside class="calendar-detail" id="calendarDayDetails" aria-live="polite">
                    <h3 class="calendar-detail__title" id="calendarSelectedHeading">Today</h3>
                    <p class="calendar-detail__subtitle" id="calendarSelectedSummary">No events yet.</p>
                    <div class="calendar-detail__list" id="calendarDayList"></div>
                </aside>
            </div>
        </section>

        <section class="split-layout">
            <article id="prep-checklist" class="content-card" data-subsection="Prep checklist">
                <div class="card-header">
                    <div>
                        <h2 class="card-title">Prep checklist</h2>
                        <p class="card-subtitle">Tick off supplies and reminders before wheels up.</p>
                    </div>
                </div>
                <div class="preferences-list">
                    <label class="checkbox-field"><input type="checkbox" checked /> Confirm rental deliveries</label>
                    <label class="checkbox-field"><input type="checkbox" /> Send staff arrival reminders</label>
                    <label class="checkbox-field"><input type="checkbox" checked /> Prep signature syrups</label>
                    <label class="checkbox-field"><input type="checkbox" /> Load ingredient crates</label>
                </div>
            </article>

            <article id="week-glance" class="content-card" data-subsection="Week at a glance">
                <div class="card-header">
                    <div>
                        <h2 class="card-title">This week</h2>
                        <p class="card-subtitle">Quick view of guests, staffing, and prep hours.</p>
                    </div>
                </div>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Event</th>
                                <th>Date</th>
                                <th>Guests</th>
                                <th>Team</th>
                                <th>Prep hours</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td data-label="Event">Corporate Party</td>
                                <td data-label="Date">Oct 12</td>
                                <td data-label="Guests">120</td>
                                <td data-label="Team">4</td>
                                <td data-label="Prep hours">6</td>
                            </tr>
                            <tr>
                                <td data-label="Event">Wedding Reception</td>
                                <td data-label="Date">Oct 14</td>
                                <td data-label="Guests">180</td>
                                <td data-label="Team">Pending</td>
                                <td data-label="Prep hours">8</td>
                            </tr>
                            <tr>
                                <td data-label="Event">Mixology Workshop</td>
                                <td data-label="Date">Oct 16</td>
                                <td data-label="Guests">25</td>
                                <td data-label="Team">2</td>
                                <td data-label="Prep hours">3</td>
                            </tr>
                        </tbody>
                        <tbody id="weekSummaryTable"></tbody>
                    </table>
                </div>
            </article>
        </section>
    </main>

    <footer class="app-footer">© 2025 Bartending2U. Crafted for seamless event coordination.</footer>

    <script src="scripts.js"></script>
    <script src="storage.js"></script>
    <script>
        (function () {
            const navToggle = document.getElementById('mobileNavToggle');
            const nav = document.getElementById('primaryNav');

            if (navToggle && nav) {
                navToggle.addEventListener('click', () => {
                    nav.classList.toggle('open');
                });
            }
        })();
    </script>
    <script>
        (function () {
            const grid = document.getElementById('calendarGrid');
            const monthHeading = document.getElementById('calendarMonthHeading');
            const monthLabel = document.getElementById('calendarControlsLabel');
            const prevBtn = document.getElementById('prevMonth');
            const nextBtn = document.getElementById('nextMonth');
            const todayBtn = document.getElementById('jumpToday');

            if (!grid || !monthHeading || !monthLabel || !prevBtn || !nextBtn) {
                return;
            }

            let current = new Date();
            const today = new Date();
            const monthFormatter = new Intl.DateTimeFormat('en-US', { month: 'long', year: 'numeric' });
            const dayFormatter = new Intl.DateTimeFormat('en-US', { weekday: 'long', month: 'long', day: 'numeric' });

            function startOfMonth(date) {
                return new Date(date.getFullYear(), date.getMonth(), 1);
            }

            function startOfCalendar(date) {
                const first = startOfMonth(date);
                const start = new Date(first);
                start.setDate(first.getDate() - first.getDay());
                return start;
            }

            function sameDate(a, b) {
                return a.getFullYear() === b.getFullYear() && a.getMonth() === b.getMonth() && a.getDate() === b.getDate();
            }

            function render() {
                grid.innerHTML = '';

                const monthText = monthFormatter.format(current);
                monthHeading.textContent = monthText;
                monthLabel.textContent = monthText;

                const start = startOfCalendar(current);

                for (let index = 0; index < 42; index += 1) {
                    const cellDate = new Date(start);
                    cellDate.setDate(start.getDate() + index);

                    const cell = document.createElement('div');
                    cell.className = 'calendar-cell';
                    cell.setAttribute('role', 'gridcell');
                    cell.setAttribute('aria-label', dayFormatter.format(cellDate));

                    if (cellDate.getMonth() !== current.getMonth()) {
                        cell.classList.add('calendar-cell--muted');
                        cell.setAttribute('aria-disabled', 'true');
                        cell.tabIndex = -1;
                    } else {
                        cell.tabIndex = 0;
                    }

                    if (sameDate(cellDate, today)) {
                        cell.classList.add('calendar-cell--today');
                    }

                    const dateNumber = document.createElement('span');
                    dateNumber.className = 'calendar-cell__date';
                    dateNumber.textContent = cellDate.getDate();
                    cell.appendChild(dateNumber);

                    grid.appendChild(cell);
                }
            }

            function changeMonth(offset) {
                current = new Date(current.getFullYear(), current.getMonth() + offset, 1);
                render();
            }

            prevBtn.addEventListener('click', () => {
                changeMonth(-1);
            });

            nextBtn.addEventListener('click', () => {
                changeMonth(1);
            });

            if (todayBtn) {
                todayBtn.addEventListener('click', () => {
                    current = new Date(today.getFullYear(), today.getMonth(), 1);
                    render();
                });
            }

            render();
        })();
    </script>
    <script src="app.js"></script>
</body>
</html>
