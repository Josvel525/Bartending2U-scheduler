<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - Bartending2U</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" />
</head>
<body>
    <header class="top-bar">
        <div class="top-bar__inner">
            <div class="brand">
                <img src="IMG_9047.png" alt="Bartending2U logo" />
                <div class="brand__text">
                    <span class="brand__subtitle">Bartending2U</span>
                    <span class="brand__title">Scheduling Suite</span>
                </div>
            </div>

            <button class="mobile-nav-toggle" id="mobileNavToggle" aria-label="Toggle navigation">☰</button>

            <nav class="nav-links" id="primaryNav">
                <a class="nav-link active" href="index.html">Dashboard</a>
                <a class="nav-link" href="events.html">Events</a>
                <a class="nav-link" href="employees.html">Employees</a>
                <a class="nav-link" href="calendar.html">Calendar</a>
                <a class="nav-link" href="settings.html">Settings</a>
            </nav>

            <a class="cta-button" href="events.html">+ New Event</a>
        </div>
    </header>

    <main class="page-content">
        <section class="page-header">
            <div>
                <p class="page-eyebrow">Dashboard</p>
                <h1 class="page-title">Welcome back, Admin!</h1>
                <p class="lead-text">Stay ahead of every tasting, private party, and corporate gathering with a real-time pulse on staffing and logistics.</p>
            </div>
            <div class="hero-actions">
                <a class="button primary" href="events.html">Schedule an Event</a>
                <a class="secondary-link" href="calendar.html">Open calendar overview →</a>
            </div>
        </section>

        <section class="card-grid stats-grid">
            <article class="stat-card">
                <span class="stat-card__label">Total events</span>
                <span class="stat-card__value" id="totalEventsStat">0</span>
                <span class="stat-card__meta success">+2 vs last week</span>
            </article>
            <article class="stat-card">
                <span class="stat-card__label">Team availability</span>
                <span class="stat-card__value" id="teamAvailabilityStat">0 / 0</span>
                <span class="stat-card__meta warning">Live availability updates</span>
            </article>
            <article class="stat-card">
                <span class="stat-card__label">Next event</span>
                <span class="stat-card__value" id="nextEventName" style="font-size:1.6rem;">No events scheduled</span>
                <span class="stat-card__meta" id="nextEventMeta">Add an event to build your schedule.</span>
            </article>
            <article class="stat-card">
                <span class="stat-card__label">Action needed</span>
                <span class="stat-card__value" id="actionNeededStat" style="color: var(--danger-500);">0</span>
                <span class="stat-card__meta danger">Unassigned shifts</span>
            </article>
        </section>

        <section class="split-layout">
            <article class="content-card">
                <div class="card-header">
                    <div>
                        <h2 class="card-title">Recent activity</h2>
                        <p class="card-subtitle">A running feed of updates across events, staffing, and client requests.</p>
                    </div>
                    <a class="card-action" href="events.html">View all activity →</a>
                </div>
                <div class="timeline" id="activityFeed"></div>
            </article>

            <article class="content-card">
                <div class="card-header">
                    <div>
                        <h2 class="card-title">Critical alerts</h2>
                        <p class="card-subtitle">Proactively resolve staffing risks before they impact guests.</p>
                    </div>
                </div>
                <div class="accordion">
                    <div class="accordion-item">
                        <button class="accordion-trigger" data-accordion-target="alert-1" aria-expanded="true">
                            <span><span class="badge danger">3 shifts</span> Pending staffing</span>
                            <span aria-hidden="true">⌄</span>
                        </button>
                        <div class="accordion-content" id="alert-1" data-open="true">
                            <div class="accordion-content__inner">
                                <ul id="staffingAlertsList" class="alert-list"></ul>
                                <a class="card-action" href="employees.html">Review available team →</a>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <button class="accordion-trigger" data-accordion-target="alert-2" aria-expanded="false">
                            <span><span class="badge warning">1 client</span> Awaiting confirmation</span>
                            <span aria-hidden="true">⌄</span>
                        </button>
                        <div class="accordion-content" id="alert-2">
                            <div class="accordion-content__inner">
                                <p>The Rivera tasting proposal expires tomorrow. Send the updated signature package to secure the booking.</p>
                                <a class="card-action" href="events.html">Open proposals dashboard →</a>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <button class="accordion-trigger" data-accordion-target="alert-3" aria-expanded="false">
                            <span><span class="badge success">Supplies</span> Ready for pickup</span>
                            <span aria-hidden="true">⌄</span>
                        </button>
                        <div class="accordion-content" id="alert-3">
                            <div class="accordion-content__inner">
                                <p>Craft syrups prepared for Saturday. Coordinate pickup during Friday load-out.</p>
                                <a class="card-action" href="settings.html">Adjust prep reminders →</a>
                            </div>
                        </div>
                    </div>
                </div>
            </article>
        </section>

        <section class="content-card">
            <div class="card-header">
                <div>
                    <h2 class="card-title">This week’s events</h2>
                    <p class="card-subtitle">A focused look at upcoming commitments and staffing readiness.</p>
                </div>
                <a class="card-action" href="calendar.html">View full calendar →</a>
            </div>
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>Event</th>
                            <th>Date</th>
                            <th>Location</th>
                            <th>Team</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Corporate Party</td>
                            <td>Oct 5, 2025 · 7:00 PM</td>
                            <td>Downtown Houston</td>
                            <td>John D., Alex R.</td>
                            <td><span class="badge success">Ready</span></td>
                            <td class="table-actions">
                                <a class="card-action" href="events.html">View details</a>
                            </td>
                        </tr>
                        <tr>
                            <td>Wedding Reception</td>
                            <td>Oct 15, 2025 · 6:00 PM</td>
                            <td>The Grand Hall</td>
                            <td>Pending assignments</td>
                            <td><span class="badge warning">Needs staffing</span></td>
                            <td class="table-actions">
                                <a class="card-action" href="employees.html">Assign team</a>
                            </td>
                        </tr>
                        <tr>
                            <td>Mixology Workshop</td>
                            <td>Oct 18, 2025 · 5:30 PM</td>
                            <td>Private Residence</td>
                            <td>Jamie L., Priya S.</td>
                            <td><span class="badge success">Confirmed</span></td>
                            <td class="table-actions">
                                <a class="card-action" href="events.html">Manage</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
    </main>

    <footer class="app-footer">© 2025 Bartending2U. Crafted for seamless event coordination.</footer>

    <script src="scripts/data-store.js"></script>
    <script src="scripts/common.js"></script>
    <script>
        document.querySelectorAll('.accordion-trigger').forEach((trigger) => {
            const targetId = trigger.getAttribute('data-accordion-target');
            const content = document.getElementById(targetId);

            if (!content) {
                return;
            }

            if (content.dataset.open === 'true') {
                content.style.maxHeight = content.scrollHeight + 'px';
            }

            trigger.addEventListener('click', () => {
                const isExpanded = trigger.getAttribute('aria-expanded') === 'true';
                trigger.setAttribute('aria-expanded', String(!isExpanded));

                if (!isExpanded) {
                    content.style.maxHeight = content.scrollHeight + 'px';
                    content.dataset.open = 'true';
                } else {
                    content.style.maxHeight = '0px';
                    content.dataset.open = 'false';
                }
            });
        });
    </script>
    <script src="scripts/dashboard.js"></script>
</body>
</html>
